# webapps入門（自分用まとめ）
## 目次
 - [1. 使う言語とかフレームワークとか](#1.使う言語とかフレームワークとか)   
 - [2. gitによるversion管理基礎](#2.gitによるversion管理)
    - [2.1 HEADとmasterについて](#2.1HEADとmasterについて)
    - [2.2リモートリポジトリにローカルリポジトリを紐づける](#2.2リモートリポジトリにローカルリポジトリを紐づける)

## 1.使う言語とかフレームワークとか
`docker+kubernetes` 

`typescript+node.js`

`typescript+react.js`

こいつらで開発をしてみる

## 2.gitによるversion管理
おいおい書いていく．
ひとまず，`git init`でローカルリポジトリを初期化して，リモートリポジトリに紐づける．
```
webapps_tutorial/
┣━.git
┣━.gitignore
┣━まとめ.md
┣━
┗━
```
[ファイル名]の最終のコミットにチェックアウト
```
git checkout -- [ファイル名]
```

### 2.1HEADとmasterについて

HEADは自分が今見ているコミットを指すポインタ．
[ブランチ名]は最新のコミットを指すポインタ．
下記でどのコミットを指しているか見れる．
```
git rev-parse [HEAD or master]
```

```
commit1(aaa)
┃
commit2(aab)
┃
commit3(aac)
┃
commit4(aba)
┣━━━━━━━━━━━━commit5(abb)
commit6(abc) ┃
┃            commit8(acb) <-dev
commit7(aca) <-master <-HEAD
```

なお，`checkout`は作業ディレクトリに対象ブランチの内容を取り込むことを指す．（HEADも対象ブランチを指すポインタになる）
（masterを指定すれば，commit7のブランチの内容を取り込むし，devを指定すればcommit8, commit4をSHA1IDかタグで指定すればその内容を取り込む）

#### ブランチ名の変更
パワープレイだが，ブランチを新たに切って，削除すれば良さげ

`git branch [名前変更後のブランチ名]`

`git branch -d [削除したブランチ名]`

### 2.2リモートリポジトリにローカルリポジトリを紐づける

`git remote add [どんな名前にするか] [リモートリポジトリの場所]`
別のリモートリポジトリ（hoge.gitだけでなく）を紐づけることもできる．（＝別のローカルリポジトリをリモートにもできる）
例えば，自分が持っているサーバーにgitリポジトリを作成して，そこへのアドレスをoriginとして登録することで紐づけられる（cloneしても良いと思うが）

いよいよpushしようとしてみたら，こんなことが．
```
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
```

おそらく，origin/mainをpullせずに行ったためこんなエラーが出た．
そのため，origin/mainをpull(fetch+merge)．
が，できない．

```
fatal: refusing to merge unrelated histories
```
と怒られてしまう．

今回，すでにremoteで作ってあったmainブランチに，後で作成したlocalのmainブランチをpushしようとしたことがおそらく原因．
remoteのrootとlocalのrootが違うことが原因．
簡単な解決策は，
1. localに`git fetch origin main`をした後に，g`it merge --allow-unrelated-histories origin/main`をして，rootを無視してorigin/mainにつなげちゃう
2. 名前を変えて，リモートリポジトリ内でmainにマージ（pull）する